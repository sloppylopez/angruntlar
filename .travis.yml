language: node_js
node_js:
- 0.12
sudo: required
branches:
  except:
  - /-job-\d+/
  only:
  - master
before_install:
- sudo apt-get install -y -qq graphicsmagick
- npm install -g codeclimate-test-reporter grunt-cli bower firebase-tools karma-cli
- npm install
- bower install
install: npm test
before_script:
- grunt build
script:
- echo "${TRAVIS_PULL_REQUEST}"
- echo "${TRAVIS_BRANCH}"
after_script:
- codeclimate < ./coverage/**/lcov.info
after_success:
- if [[ "${TRAVIS_PULL_REQUEST}" == "false" ]]; then echo -e "${FIREBASE_USER}\n${FIREBASE_PASSWORD}"
  | firebase login;firebase deploy; fi
env:
  global:
  - secure: wE4QS8JA3wTDY9SionfOvo5dhEfx58A1urkTLNjejv45SgJ40GITns5lG+WNG7x7aatrCGrYThhMWb3fhEdLUxZYOdyesYL3Tqmyi+/bGIqrF8cxxw/TZ7JHWFsxuGNUw7yvH8j/FUnqlvOWxGzuHHVpVKW13vbneNOjebYRcPAMlwzlLAkcCf0wCIE4BNSEKi+oUtajiIC7Fl0+w2sSAc8nYf1+bb+3MRnN6xu50gCNY5NgQUWyct8s01+15p5M7ayFXlctBwzcr0cohvWt6J7DQ9wlHPAFpTxttaCRz1aGBaWijrRIZGTKE+Rt22HsXlXruJXRI/N6ZKdJDNqZdGPc0REtjsT3Rd5Mw+J+Udn8/4MiSH70V1wamVU7hxYECZT602CzYPVUpVhZxsgXXbrCjEjf1pp6JVLMaeoV4YHulfKe8LdTKx7qdcnuTO64TaBTE43m4yKtekuu/D/8913/bkh6i05aQ85AYeCE6p3g3g0ImKtBV0RofnGzLFZ8nYnceH/dAK/cXw51CyeVSDhLl68domFfD2lBZfj5D/zEijRD9X9lMTSx1TWSbJ890mipZMuDPEsDuVruCtIVKSmuaAPBjLXYa0PMO7nIZBLwm8yEdcY4b4iSCct8YUzDAaViC1r67+6XKV55zYVSgWsbFC4bQZ2oFN8MPsFO/v4=
  - secure: PYGaD+ySiZbSMMKbl4pCspovvb4ZvUOpDTE5nyNV/9vhLX1/vcmUgUy6zl8ueCKoUMCD0RrdctddHW+XhGK7fAv8erJI4TLluUoKWtGXIRKcSCrB6qHDrSNmQsqtyYg+dnBw7g1Lf9gvaQqm992F/JeL1Vlfanca/way07c1tu5PQvubnAWHU6ojKTOSI5hhW5+QiuRtIYQEQaceCp8iR20HMj12MBcrmtxBaPQIV9bIEK9zvLvExSbW9UxilU9ffsTNIvbFfAX28163ZxKsXhYySieMYSTDyThlqOrGh1k9IokzNFy5Yfjc7sLMspiYSH8XjbpjJjfHARtpONxp0LF37mspSCU+Qrpk/S5aCI3LkWvoh6RDOL8LE6EXZPGgpHEAsigJKAkm+iFXaqQ6OBWHLe3dDfLYEx6UHR5LdpV6EsJ+qnjcTpetLXNCvKMYCQ6AUmj16Gu54u4gvPrc59X48sSaDNhIUE10okv/vCgcr/Xhf164BPn3Vw2MRM6Wzf3hvU9TfIOJxcGxTX3sMoaZtAiOlEUA/miNNzyQSK7BthtYd8jQ5jNPGQ3IQdCt11Ur+nRgtEMW/MbVxTTVoKG27BJXAl3gU6U7YhWhDxzgj4OfkyCoecQ68QyS7mBMNOgYpEKegL1ZydnqYOEbnmoC+fAQrDULD/52KTKcayA=
  - secure: OGjCkt+xMkkAptWKlVCKNxabvS/hDLCUu84EsiX+nmYn9xqy0IYbdfRBRRL0NhICa9h1shS6LW0LNCERTpq6fFYihju5nEQ3TnyIWE2deGx7CFLpXjKntRldMl1zmNepFNXuc0bXXFv+0Sn++TiGlWJEqTdv4kkUM2uPFms/946ceG0H3MSZ58f0mth4oVKFIWU7w98sgRmc4Ry+VFb8ezMOZaj8X8YXmlYWQ5naD/fSfIiwLU2Jyqux/3axMtr6QA5Ji61j/dcYMnv4cpsVBRXG1Qp4FZRKu4VRF2z02I8O0tLVEufzJEvXLAaIKpKvSQZmx5DgWLlrzlyMghcxMJDNWv97cP5QXM9WD4XnyEmQsucnOc+lOArRF9uOYXLtmDm5Qo3H5VCEMVGhqIZsWWTv4QFDLJDprMub2BxZ+gLMwozBf9fu+LI5RZUcpUJi8EfmV69EQ7vhKDN/JORDa4LXvaE/aAVOnh2YMr+Jw8ElM9JqPXs0xsfvJaG4qB06VcupaJTPw2QUcII0du8OszsaFalqzvjH/aAzcgdc4zr8fcMHjLtNzI2spHbCqkCXNWLTuULjUZ8aq+NXopKk3NPNnxqnXUEbrgtOHn2iv/CRA7M1khuJoxhgJHfzu0m9Bz6fdg0x/Ef2gR6/MMZlfgMh87t7OsStHPa9ix6Wl2g=
